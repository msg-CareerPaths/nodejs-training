# NestJS [6-8 hours]
**Goal:** 
- Learning the basics of NestJS.
- Setting up your NestJS server and folder structure.

## Mandatory Materials:

**Videos:**
- [NestJS in 100 seconds](https://www.youtube.com/watch?v=0M8AYU_hPas)
- [Testing via Postman](https://youtu.be/Qcuxp7l50dg)
- [Dependency Injection Explained](https://youtu.be/J1f5b4vcxCQ)

**Reading:**

- [What is Dependency Injection?](https://stackoverflow.com/questions/130794/what-is-dependency-injection/130862#130862)
- [What is NestJS?](https://enlear.academy/why-you-should-use-nestjs-as-your-backend-framework-bd1ff1acce5d)
- [NestJS First Steps](https://docs.nestjs.com/first-steps)
- [NestJS Providers](https://docs.nestjs.com/providers)
- [NestJS Controllers](https://docs.nestjs.com/controllers)
- [NestJS Modules](https://docs.nestjs.com/modules)
- [NestJS Pipes](https://docs.nestjs.com/pipes)
- [Layered Architecture](https://www.oreilly.com/library/view/software-architecture-patterns/9781491971437/ch01.html)
 
## Online Shop:
> 1. Forget about the project you created before this. You will be now using a framework to help organize things. You need to initialize a new Nest.js Application and force commit over the previous files the new project.
>
> 2. Publish all your changes to this repository and create pull requests as per the working mode discussed in Chapter 0
>
> 3. Install Nest CLI globally via 'npm i -g @nestjs/cli' then initiate your project with 'nest new online-shop-api'. Start the project just for testing
>
> 4. Remove any of the code pre-generated by the initializer. Create a new controller called `health.controller.ts` and route it as a `GET` `/health` endpoint (it should return just a string: "UP"). 
> Keep in mind to remove any old imports and import the controller in your `app.module.ts`. 
>
> 5. Start your application. Test your `health` endpoint via `Postman`.
>
> 6. Create the structure of folder presented below, each represeting a module (`feature`) in your application. 
>
> 7. This represents a basic [Layered Architecture](https://www.oreilly.com/library/view/software-architecture-patterns/9781491971437/ch01.html) split by features, with a shared module for reusable functionality.
>
> 8. In each specific `feature` create a new NestJS module representing the required functionality. Note: just create the module with no other functionality (e.g.: Controller, etc.), this will be added later.
>
> 9. Follow the explanation on what is the scope of each folder and keep in mind for the future.
>
> 10. Import each feature module in the main `app.module.ts`.
>
> 11. You may use this chapter to further familiarize yourself with concepts such as: Modules, Controllers, Providers, Pipes.

### Folder structure
```
./src
-----health.controller.ts
-----app.module.ts
-----/orders
------------orders.module.ts
------------/controller
------------/mapper
------------/service
------------/domain
------------/dto
------------/repository
-----/products
------------products.module.ts
------------/controller
------------/mapper
------------/service
------------/domain
------------/dto
------------/repository
-----/customers
------------customers.module.ts
------------/controller
------------/mapper
------------/service
------------/domain
------------/dto
------------/repository
-----/shared
------------shared.module.ts
```
**Explanation:**
- The controllers folder will represent presentation layer of the application and the entrypoint to any HTTP calls
- The repository folder will represent the persistance layer of our application and the logic on how to query your database
- The service folder will represent the main logic of our application, the core of our business layer (any validations, calculations, communication with the repository will be done here)
- The domain folder will represent the business entity models in our database schema.
- The dto folder will represent the place where we describe what exactly our controllers return to the client
- The mapper folder will represent the place where we add the mappings between the dto and domain types
